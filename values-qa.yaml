global:
  environment: production
  namespace: geneos-netprobe-production
  imageRegistry: "itrs"
  imagePullSecrets:
    - name: itrs-registry-key

netprobe:
  enabled: true
  replicaCount: 5
  gatewayHost: "geneos-gateway.production.svc.cluster.local"
  gatewayPort: 7039
  resources:
    requests:
      memory: "1Gi"
      cpu: "500m"
    limits:
      memory: "2Gi"
      cpu: "1000m"
  persistence:
    enabled: true
    storageClass: "managed-premium"
    size: 20Gi
  service:
    type: ClusterIP

collectionAgent:
  enabled: true
  replicaCount: 3
  netprobeHost: "geneos-netprobe.geneos-netprobe-production.svc.cluster.local"
  netprobePort: 7039
  resources:
    requests:
      memory: "512Mi"
      cpu: "250m"
    limits:
      memory: "1Gi"
      cpu: "500m"
  persistence:
    enabled: true
    storageClass: "managed-premium"
    size: 10Gi

pod:
  nodeSelector:
    workload: geneos
  tolerations:
    - key: "workload"
      operator: "Equal"
      value: "geneos"
      effect: "NoSchedule"
  affinity:
    podAntiAffinity:
      preferredDuringSchedulingIgnoredDuringExecution:
      - weight: 100
        podAffinityTerm:
          labelSelector:
            matchExpressions:
            - key: app
              operator: In
              values:
              - geneos-netprobe
          topologyKey: kubernetes.io/hostname
